<div class="relative w-screen h-screen bg-[url('/auth_bg.png')] bg-no-repeat bg-cover">

  <div class="size-full bg-opacity-80 flex justify-center items-center">
    <div style="box-shadow: 0 0 20px 7px rgba(240, 104, 6, 0.8);"class="flex justify-center w-[80%] sm:w-2/3 md:w-[55%] my-24 lg:w-[45%] items-center border-4 rounded-md p-6 bg-white"
    >
      <hlm-tabs tab="step-1" class="w-full">
        <div class="text-center">
          <h2 hlmH2>Registro</h2>
        </div>
        <hlm-tabs-list class="w-full grid grid-cols-2" aria-label="tabs example">
          <button hlmTabsTrigger="step-1">1</button>
          <button hlmTabsTrigger="step-2">2</button>
        </hlm-tabs-list>
        <form [formGroup]="registerForm" (ngSubmit)="onRegister()">
          <!-- Paso 1 -->
          <div hlmTabsContent="step-1">
            <div class="flex items-center justify-center sm:flex-row gap-10">
              <app-image-uploader class="size-[150px]" svgSize="size-12" textSize="text-base"></app-image-uploader>
            </div>
            <div class="grid sm:grid-cols-2 justify-items-center">
              <hlm-form-field class="my-2">
                <input class="md:w-full" hlmInput type="text" placeholder="Nombre de Usuario" formControlName="username"/>
              </hlm-form-field>
              <hlm-form-field class="my-2">
                <input class="md:w-full" hlmInput type="email" placeholder="Email" formControlName="email"/>
              </hlm-form-field>
              <hlm-form-field class="my-2 relative">
                <input class="md:w-full " hlmInput [type]="showPassword ? 'text' : 'password'" placeholder="Contraseña" formControlName="password"/>
                <button type="button" (click)="togglePasswordVisibility()" class="absolute inset-y-0 right-0 flex items-center pr-3">
                  <hlm-icon *ngIf="!showPassword" size="sm" name="lucideEye"></hlm-icon>
                  <hlm-icon *ngIf="showPassword" size="sm" name="lucideEyeOff"></hlm-icon>
                </button>
              </hlm-form-field>
              <hlm-form-field class="my-2 relative">
                <input class="md:w-full" hlmInput [type]="showConfirmPassword ? 'text' : 'password'" placeholder="Repita su contraseña" formControlName="confirmPassword"/>
                <button type="button" (click)="toggleConfirmPasswordVisibility()" class="absolute inset-y-0 right-0 flex items-center pr-3">
                  <hlm-icon *ngIf="!showConfirmPassword" size="sm" name="lucideEye"></hlm-icon>
                  <hlm-icon *ngIf="showConfirmPassword" size="sm" name="lucideEyeOff"></hlm-icon>
                </button>
              </hlm-form-field>
            </div>
            <div class="flex items-center justify-center sm:justify-end sm:flex-row gap-10">
              <button (click)="goToTab2($event)" class="mt-6" hlmBtn>Siguiente paso</button>
            </div>
          </div>
          <!-- Paso 2 -->
          <div hlmTabsContent="step-2">
            <div class="grid sm:grid-cols-2 justify-items-center border-b border-primary mt-4">
              <hlm-form-field class="my-2">
                <input class="md-[w-full]" hlmInput type="text" placeholder="Nombre" formControlName="name"/>
              </hlm-form-field>
              <hlm-form-field class="my-2">
                <input class="md:w-full" hlmInput type="text" placeholder="Apellidos" formControlName="surname"/>
              </hlm-form-field>
              <hlm-form-field class="my-2">
                <input class="md:w-full" hlmInput type="text" placeholder="DNI"
                  formControlName="dni"
                />
              </hlm-form-field>
              <hlm-form-field class="my-2">
                <input class="w-full" hlmInput type="date" placeholder="Fecha de nacimiento" formControlName="birthdate"/>
              </hlm-form-field>
              <hlm-form-field>

              </hlm-form-field>
            </div>
            <app-map class="w-full h-[400px] block mt-4"></app-map>

            <div class="flex items-center gap-3 sm:flex-row sm:justify-between justify-center">
              <button (click)="goToTab1($event)" class="mt-6" hlmBtn>Anterior paso</button>
              <button type="submit" class="mt-6" hlmBtn>Registrarse</button>
            </div>
          </div>
        </form>
      </hlm-tabs>
    </div>

  </div>
</div>
